{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\",\"filename\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nvar _products = _interopRequireDefault(require(\"./routes/products\"));\n\nvar _cart = _interopRequireDefault(require(\"./routes/cart\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar express = require('express');\n\nvar morgan = require('morgan'); // const path = require('path');\n\n\nvar app = express();\nvar PORT = 8080; // const routesProducts = require('./routes/products')\n\napp.use(morgan('dev'));\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: true\n})); // app.use(express.static(__dirname +'/routes/public'))\n// app.set('views',path.join(__dirname, 'views' ));\n// app.set('view engine','ejs')\n\napp.use('/api/productos', _products[\"default\"]);\napp.use('/api/carrito', _cart[\"default\"]);\n/* app.get('/', (req, res) => {\r\n    res.render('index');\r\n}) */\n\ntry {\n  app.listen(PORT);\n  console.log(\"Server on port \".concat(PORT, \"...\"));\n} catch (error) {\n  console.log('Error de conexión con el servidor...', error);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsImFwcCIsIlBPUlQiLCJ1c2UiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwicm91dGVzUHJvZHVjdHMiLCJyb3V0ZXNDYXJ0IiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsImVycm9yIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEp1bGlhblxcQ3Vyc28gZGUgQmFjayBFbmRcXDFyYSBlbnRyZWdhIEJhY2sgRW5kXFxzcmNcXCIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XHJcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoJ21vcmdhbicpO1xyXG4vLyBjb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IFBPUlQgPSA4MDgwXHJcbi8vIGNvbnN0IHJvdXRlc1Byb2R1Y3RzID0gcmVxdWlyZSgnLi9yb3V0ZXMvcHJvZHVjdHMnKVxyXG5pbXBvcnQgcm91dGVzUHJvZHVjdHMgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdHMnXHJcbi8vIGNvbnN0IHJvdXRlc0NhcnQgPSByZXF1aXJlKCcuL3JvdXRlcy9jYXJ0JylcclxuaW1wb3J0IHJvdXRlc0NhcnQgZnJvbSAnLi9yb3V0ZXMvY2FydCdcclxuXHJcblxyXG5hcHAudXNlKG1vcmdhbignZGV2JykpO1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XHJcbi8vIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsnL3JvdXRlcy9wdWJsaWMnKSlcclxuXHJcblxyXG4vLyBhcHAuc2V0KCd2aWV3cycscGF0aC5qb2luKF9fZGlybmFtZSwgJ3ZpZXdzJyApKTtcclxuLy8gYXBwLnNldCgndmlldyBlbmdpbmUnLCdlanMnKVxyXG5cclxuYXBwLnVzZSgnL2FwaS9wcm9kdWN0b3MnLHJvdXRlc1Byb2R1Y3RzKVxyXG5hcHAudXNlKCcvYXBpL2NhcnJpdG8nLHJvdXRlc0NhcnQpXHJcblxyXG5cclxuLyogYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignaW5kZXgnKTtcclxufSkgKi9cclxuXHJcblxyXG50cnkge1xyXG4gICAgYXBwLmxpc3RlbihQT1JUKTtcclxuICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgb24gcG9ydCAke1BPUlR9Li4uYClcclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKCdFcnJvciBkZSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yLi4uJywgZXJyb3IpXHJcbn0iXSwibWFwcGluZ3MiOiI7O0FBTUE7O0FBRUE7Ozs7QUFSQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEIsQyxDQUNBOzs7QUFDQSxJQUFNRSxHQUFHLEdBQUdILE9BQU8sRUFBbkI7QUFDQSxJQUFNSSxJQUFJLEdBQUcsSUFBYixDLENBQ0E7O0FBTUFELEdBQUcsQ0FBQ0UsR0FBSixDQUFRSCxNQUFNLENBQUMsS0FBRCxDQUFkO0FBQ0FDLEdBQUcsQ0FBQ0UsR0FBSixDQUFRTCxPQUFPLENBQUNNLElBQVIsRUFBUjtBQUNBSCxHQUFHLENBQUNFLEdBQUosQ0FBUUwsT0FBTyxDQUFDTyxVQUFSLENBQW1CO0VBQUVDLFFBQVEsRUFBRTtBQUFaLENBQW5CLENBQVIsRSxDQUNBO0FBR0E7QUFDQTs7QUFFQUwsR0FBRyxDQUFDRSxHQUFKLENBQVEsZ0JBQVIsRUFBeUJJLG9CQUF6QjtBQUNBTixHQUFHLENBQUNFLEdBQUosQ0FBUSxjQUFSLEVBQXVCSyxnQkFBdkI7QUFHQTtBQUNBO0FBQ0E7O0FBR0EsSUFBSTtFQUNBUCxHQUFHLENBQUNRLE1BQUosQ0FBV1AsSUFBWDtFQUNBUSxPQUFPLENBQUNDLEdBQVIsMEJBQThCVCxJQUE5QjtBQUNILENBSEQsQ0FHRSxPQUFPVSxLQUFQLEVBQWM7RUFDWkYsT0FBTyxDQUFDQyxHQUFSLENBQVksc0NBQVosRUFBb0RDLEtBQXBEO0FBQ0gifQ==","map":{"version":3,"names":["express","require","morgan","app","PORT","use","json","urlencoded","extended","routesProducts","routesCart","listen","console","log","error"],"sourceRoot":"C:\\Users\\Julian\\Curso de Back End\\1ra entrega Back End\\src\\","sources":["server.js"],"sourcesContent":["const express = require('express');\r\nconst morgan = require('morgan');\r\n// const path = require('path');\r\nconst app = express();\r\nconst PORT = 8080\r\n// const routesProducts = require('./routes/products')\r\nimport routesProducts from './routes/products'\r\n// const routesCart = require('./routes/cart')\r\nimport routesCart from './routes/cart'\r\n\r\n\r\napp.use(morgan('dev'));\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: true }));\r\n// app.use(express.static(__dirname +'/routes/public'))\r\n\r\n\r\n// app.set('views',path.join(__dirname, 'views' ));\r\n// app.set('view engine','ejs')\r\n\r\napp.use('/api/productos',routesProducts)\r\napp.use('/api/carrito',routesCart)\r\n\r\n\r\n/* app.get('/', (req, res) => {\r\n    res.render('index');\r\n}) */\r\n\r\n\r\ntry {\r\n    app.listen(PORT);\r\n    console.log(`Server on port ${PORT}...`)\r\n} catch (error) {\r\n    console.log('Error de conexión con el servidor...', error)\r\n}"],"mappings":";;AAMA;;AAEA;;;;AARA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB,C,CACA;;;AACA,IAAME,GAAG,GAAGH,OAAO,EAAnB;AACA,IAAMI,IAAI,GAAG,IAAb,C,CACA;;AAMAD,GAAG,CAACE,GAAJ,CAAQH,MAAM,CAAC,KAAD,CAAd;AACAC,GAAG,CAACE,GAAJ,CAAQL,OAAO,CAACM,IAAR,EAAR;AACAH,GAAG,CAACE,GAAJ,CAAQL,OAAO,CAACO,UAAR,CAAmB;EAAEC,QAAQ,EAAE;AAAZ,CAAnB,CAAR,E,CACA;AAGA;AACA;;AAEAL,GAAG,CAACE,GAAJ,CAAQ,gBAAR,EAAyBI,oBAAzB;AACAN,GAAG,CAACE,GAAJ,CAAQ,cAAR,EAAuBK,gBAAvB;AAGA;AACA;AACA;;AAGA,IAAI;EACAP,GAAG,CAACQ,MAAJ,CAAWP,IAAX;EACAQ,OAAO,CAACC,GAAR,0BAA8BT,IAA9B;AACH,CAHD,CAGE,OAAOU,KAAP,EAAc;EACZF,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDC,KAApD;AACH"}},"mtime":1654223686339},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\",\"filename\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\\\\src\\\\routes\\\\products.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _apiClass = _interopRequireDefault(require(\"../apiClass\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar router = (0, _express.Router)(); // aca tengo que poner la direccion desde el archivo apiClass que es el que va a consumir esa ruta! No desde mi archivo actual.\n\nvar api = new _apiClass[\"default\"](\"/dataBase/products.json\");\nvar admin = true;\n\nfunction access(req, res, next) {\n  if (!admin) {\n    res.send(\"El acceso a esta ruta no esta permitida para tu tipo de usuario\");\n  } else {\n    next();\n  }\n}\n\nrouter.get('/', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var products;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return api.getAll();\n\n          case 2:\n            products = _context.sent;\n            res.json(products);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.get('/:id', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var id, product;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            id = req.params.id;\n            _context2.next = 3;\n            return api.getById(id);\n\n          case 3:\n            product = _context2.sent;\n\n            if (product == null) {\n              res.json(\"el ID buscado no existe\");\n            }\n\n            res.json(product);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nrouter.post('/', access, /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var obj, newId;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            obj = req.body;\n            obj.timestamps = Date.now();\n            _context3.next = 4;\n            return api.saveNew(obj);\n\n          case 4:\n            newId = _context3.sent;\n            res.json(newId);\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nrouter.put('/:id', access, /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var id, obj, exito;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            id = req.params.id;\n            obj = req.body;\n            obj.timestamps = Date.now();\n            _context4.next = 5;\n            return api.replaceById(id, obj);\n\n          case 5:\n            exito = _context4.sent;\n\n            if (exito) {\n              res.json(\"producto reemplazado con exito\");\n            } else {\n              res.json(\"el producto no fue encontrado y por lo tanto no pudimos reemplazarlo\");\n            }\n\n          case 7:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nrouter[\"delete\"]('/:id', access, /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var id, exito;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            id = req.params.id;\n            _context5.next = 3;\n            return api.deleteById(id);\n\n          case 3:\n            exito = _context5.sent;\n\n            if (exito) {\n              res.json(\"producto eliminado con exito\");\n            } else {\n              res.json(\"el producto no fue encontrado y por lo tanto no pudimos borrarlo\");\n            }\n\n          case 5:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function (_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}());\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJhcGkiLCJBcGkiLCJhZG1pbiIsImFjY2VzcyIsInJlcSIsInJlcyIsIm5leHQiLCJzZW5kIiwiZ2V0IiwiZ2V0QWxsIiwicHJvZHVjdHMiLCJqc29uIiwiaWQiLCJwYXJhbXMiLCJnZXRCeUlkIiwicHJvZHVjdCIsInBvc3QiLCJvYmoiLCJib2R5IiwidGltZXN0YW1wcyIsIkRhdGUiLCJub3ciLCJzYXZlTmV3IiwibmV3SWQiLCJwdXQiLCJyZXBsYWNlQnlJZCIsImV4aXRvIiwiZGVsZXRlQnlJZCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxKdWxpYW5cXEN1cnNvIGRlIEJhY2sgRW5kXFwxcmEgZW50cmVnYSBCYWNrIEVuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsicHJvZHVjdHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vYXBpQ2xhc3MnXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpXHJcbi8vIGFjYSB0ZW5nbyBxdWUgcG9uZXIgbGEgZGlyZWNjaW9uIGRlc2RlIGVsIGFyY2hpdm8gYXBpQ2xhc3MgcXVlIGVzIGVsIHF1ZSB2YSBhIGNvbnN1bWlyIGVzYSBydXRhISBObyBkZXNkZSBtaSBhcmNoaXZvIGFjdHVhbC5cclxuY29uc3QgYXBpID0gbmV3IEFwaShcIi9kYXRhQmFzZS9wcm9kdWN0cy5qc29uXCIpXHJcblxyXG5jb25zdCBhZG1pbiA9IHRydWU7XHJcblxyXG5mdW5jdGlvbiBhY2Nlc3MocmVxLHJlcyxuZXh0KXtcclxuICAgIGlmKCFhZG1pbil7XHJcbiAgICAgICAgcmVzLnNlbmQoXCJFbCBhY2Nlc28gYSBlc3RhIHJ1dGEgbm8gZXN0YSBwZXJtaXRpZGEgcGFyYSB0dSB0aXBvIGRlIHVzdWFyaW9cIilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV4dCgpXHJcbiAgICB9XHJcbn1cclxuXHJcbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgYXBpLmdldEFsbCgpXHJcbiAgICByZXMuanNvbihwcm9kdWN0cylcclxufSlcclxuXHJcbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zXHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgYXBpLmdldEJ5SWQoaWQpXHJcbiAgICBpZiAocHJvZHVjdCA9PSBudWxsICkge1xyXG4gICAgICAgIHJlcy5qc29uKFwiZWwgSUQgYnVzY2FkbyBubyBleGlzdGVcIilcclxuICAgIH1cclxuICAgIHJlcy5qc29uKHByb2R1Y3QpXHJcbn0pXHJcblxyXG5yb3V0ZXIucG9zdCgnLycsIGFjY2VzcywgYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCBvYmogPSByZXEuYm9keVxyXG4gICAgb2JqLnRpbWVzdGFtcHMgPSBEYXRlLm5vdygpXHJcbiAgICBjb25zdCBuZXdJZD0gYXdhaXQgYXBpLnNhdmVOZXcob2JqKVxyXG4gICAgcmVzLmpzb24obmV3SWQpXHJcbn0pXHJcblxyXG5yb3V0ZXIucHV0KCcvOmlkJywgYWNjZXNzLCBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zXHJcbiAgICBjb25zdCBvYmogPSByZXEuYm9keVxyXG4gICAgb2JqLnRpbWVzdGFtcHMgPSBEYXRlLm5vdygpXHJcbiAgICBjb25zdCBleGl0byA9IGF3YWl0IGFwaS5yZXBsYWNlQnlJZChpZCwgb2JqKVxyXG4gICAgaWYgKGV4aXRvKSB7XHJcbiAgICAgICAgcmVzLmpzb24oXCJwcm9kdWN0byByZWVtcGxhemFkbyBjb24gZXhpdG9cIilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVzLmpzb24oXCJlbCBwcm9kdWN0byBubyBmdWUgZW5jb250cmFkbyB5IHBvciBsbyB0YW50byBubyBwdWRpbW9zIHJlZW1wbGF6YXJsb1wiKVxyXG4gICAgfVxyXG59KVxyXG5cclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGFjY2VzcywgYXN5bmMgKHJlcSxyZXMpPT57XHJcbiAgICBjb25zdCB7aWR9ID0gcmVxLnBhcmFtc1xyXG4gICAgY29uc3QgZXhpdG8gPSBhd2FpdCBhcGkuZGVsZXRlQnlJZChpZClcclxuICAgIGlmIChleGl0bykge1xyXG4gICAgICAgIHJlcy5qc29uKFwicHJvZHVjdG8gZWxpbWluYWRvIGNvbiBleGl0b1wiKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuanNvbihcImVsIHByb2R1Y3RvIG5vIGZ1ZSBlbmNvbnRyYWRvIHkgcG9yIGxvIHRhbnRvIG5vIHB1ZGltb3MgYm9ycmFybG9cIilcclxuICAgIH1cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7K0NBQUEsb0o7Ozs7OztBQUNBLElBQU1BLE1BQU0sR0FBRyxJQUFBQyxlQUFBLEdBQWYsQyxDQUNBOztBQUNBLElBQU1DLEdBQUcsR0FBRyxJQUFJQyxvQkFBSixDQUFRLHlCQUFSLENBQVo7QUFFQSxJQUFNQyxLQUFLLEdBQUcsSUFBZDs7QUFFQSxTQUFTQyxNQUFULENBQWdCQyxHQUFoQixFQUFvQkMsR0FBcEIsRUFBd0JDLElBQXhCLEVBQTZCO0VBQ3pCLElBQUcsQ0FBQ0osS0FBSixFQUFVO0lBQ05HLEdBQUcsQ0FBQ0UsSUFBSixDQUFTLGlFQUFUO0VBQ0gsQ0FGRCxNQUVPO0lBQ0hELElBQUk7RUFDUDtBQUNKOztBQUVEUixNQUFNLENBQUNVLEdBQVAsQ0FBVyxHQUFYO0VBQUEsc0VBQWdCLGlCQUFPSixHQUFQLEVBQVdDLEdBQVg7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7WUFBQSxPQUNXTCxHQUFHLENBQUNTLE1BQUosRUFEWDs7VUFBQTtZQUNOQyxRQURNO1lBRVpMLEdBQUcsQ0FBQ00sSUFBSixDQUFTRCxRQUFUOztVQUZZO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQWhCOztFQUFBO0lBQUE7RUFBQTtBQUFBO0FBS0FaLE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLE1BQVg7RUFBQSx1RUFBbUIsa0JBQU9KLEdBQVAsRUFBV0MsR0FBWDtJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFDUk8sRUFEUSxHQUNGUixHQUFHLENBQUNTLE1BREYsQ0FDUkQsRUFEUTtZQUFBO1lBQUEsT0FFT1osR0FBRyxDQUFDYyxPQUFKLENBQVlGLEVBQVosQ0FGUDs7VUFBQTtZQUVURyxPQUZTOztZQUdmLElBQUlBLE9BQU8sSUFBSSxJQUFmLEVBQXNCO2NBQ2xCVixHQUFHLENBQUNNLElBQUosQ0FBUyx5QkFBVDtZQUNIOztZQUNETixHQUFHLENBQUNNLElBQUosQ0FBU0ksT0FBVDs7VUFOZTtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUFuQjs7RUFBQTtJQUFBO0VBQUE7QUFBQTtBQVNBakIsTUFBTSxDQUFDa0IsSUFBUCxDQUFZLEdBQVosRUFBaUJiLE1BQWpCO0VBQUEsdUVBQXlCLGtCQUFPQyxHQUFQLEVBQVdDLEdBQVg7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ2ZZLEdBRGUsR0FDVGIsR0FBRyxDQUFDYyxJQURLO1lBRXJCRCxHQUFHLENBQUNFLFVBQUosR0FBaUJDLElBQUksQ0FBQ0MsR0FBTCxFQUFqQjtZQUZxQjtZQUFBLE9BR0ZyQixHQUFHLENBQUNzQixPQUFKLENBQVlMLEdBQVosQ0FIRTs7VUFBQTtZQUdmTSxLQUhlO1lBSXJCbEIsR0FBRyxDQUFDTSxJQUFKLENBQVNZLEtBQVQ7O1VBSnFCO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQXpCOztFQUFBO0lBQUE7RUFBQTtBQUFBO0FBT0F6QixNQUFNLENBQUMwQixHQUFQLENBQVcsTUFBWCxFQUFtQnJCLE1BQW5CO0VBQUEsdUVBQTJCLGtCQUFPQyxHQUFQLEVBQVdDLEdBQVg7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQ2hCTyxFQURnQixHQUNWUixHQUFHLENBQUNTLE1BRE0sQ0FDaEJELEVBRGdCO1lBRWpCSyxHQUZpQixHQUVYYixHQUFHLENBQUNjLElBRk87WUFHdkJELEdBQUcsQ0FBQ0UsVUFBSixHQUFpQkMsSUFBSSxDQUFDQyxHQUFMLEVBQWpCO1lBSHVCO1lBQUEsT0FJSHJCLEdBQUcsQ0FBQ3lCLFdBQUosQ0FBZ0JiLEVBQWhCLEVBQW9CSyxHQUFwQixDQUpHOztVQUFBO1lBSWpCUyxLQUppQjs7WUFLdkIsSUFBSUEsS0FBSixFQUFXO2NBQ1ByQixHQUFHLENBQUNNLElBQUosQ0FBUyxnQ0FBVDtZQUNILENBRkQsTUFFTztjQUNITixHQUFHLENBQUNNLElBQUosQ0FBUyxzRUFBVDtZQUNIOztVQVRzQjtVQUFBO1lBQUE7UUFBQTtNQUFBO0lBQUE7RUFBQSxDQUEzQjs7RUFBQTtJQUFBO0VBQUE7QUFBQTtBQVlBYixNQUFNLFVBQU4sQ0FBYyxNQUFkLEVBQXNCSyxNQUF0QjtFQUFBLHVFQUE4QixrQkFBT0MsR0FBUCxFQUFXQyxHQUFYO0lBQUE7SUFBQTtNQUFBO1FBQUE7VUFBQTtZQUNuQk8sRUFEbUIsR0FDYlIsR0FBRyxDQUFDUyxNQURTLENBQ25CRCxFQURtQjtZQUFBO1lBQUEsT0FFTlosR0FBRyxDQUFDMkIsVUFBSixDQUFlZixFQUFmLENBRk07O1VBQUE7WUFFcEJjLEtBRm9COztZQUcxQixJQUFJQSxLQUFKLEVBQVc7Y0FDUHJCLEdBQUcsQ0FBQ00sSUFBSixDQUFTLDhCQUFUO1lBQ0gsQ0FGRCxNQUVPO2NBQ0hOLEdBQUcsQ0FBQ00sSUFBSixDQUFTLGtFQUFUO1lBQ0g7O1VBUHlCO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQTlCOztFQUFBO0lBQUE7RUFBQTtBQUFBO2VBVWViLE0ifQ==","map":{"version":3,"names":["router","Router","api","Api","admin","access","req","res","next","send","get","getAll","products","json","id","params","getById","product","post","obj","body","timestamps","Date","now","saveNew","newId","put","replaceById","exito","deleteById"],"sourceRoot":"C:\\Users\\Julian\\Curso de Back End\\1ra entrega Back End\\src\\routes\\","sources":["products.js"],"sourcesContent":["import {Router} from 'express'\r\nimport Api from '../apiClass'\r\nconst router = Router()\r\n// aca tengo que poner la direccion desde el archivo apiClass que es el que va a consumir esa ruta! No desde mi archivo actual.\r\nconst api = new Api(\"/dataBase/products.json\")\r\n\r\nconst admin = true;\r\n\r\nfunction access(req,res,next){\r\n    if(!admin){\r\n        res.send(\"El acceso a esta ruta no esta permitida para tu tipo de usuario\")\r\n    } else {\r\n        next()\r\n    }\r\n}\r\n\r\nrouter.get('/', async (req,res)=>{\r\n    const products = await api.getAll()\r\n    res.json(products)\r\n})\r\n\r\nrouter.get('/:id', async (req,res)=>{\r\n    const {id} = req.params\r\n    const product = await api.getById(id)\r\n    if (product == null ) {\r\n        res.json(\"el ID buscado no existe\")\r\n    }\r\n    res.json(product)\r\n})\r\n\r\nrouter.post('/', access, async (req,res)=>{\r\n    const obj = req.body\r\n    obj.timestamps = Date.now()\r\n    const newId= await api.saveNew(obj)\r\n    res.json(newId)\r\n})\r\n\r\nrouter.put('/:id', access, async (req,res)=>{\r\n    const {id} = req.params\r\n    const obj = req.body\r\n    obj.timestamps = Date.now()\r\n    const exito = await api.replaceById(id, obj)\r\n    if (exito) {\r\n        res.json(\"producto reemplazado con exito\")\r\n    } else {\r\n        res.json(\"el producto no fue encontrado y por lo tanto no pudimos reemplazarlo\")\r\n    }\r\n})\r\n\r\nrouter.delete('/:id', access, async (req,res)=>{\r\n    const {id} = req.params\r\n    const exito = await api.deleteById(id)\r\n    if (exito) {\r\n        res.json(\"producto eliminado con exito\")\r\n    } else {\r\n        res.json(\"el producto no fue encontrado y por lo tanto no pudimos borrarlo\")\r\n    }\r\n})\r\n\r\nexport default router"],"mappings":"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"}},"mtime":1654383680400},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\",\"filename\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\\\\src\\\\routes\\\\cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _express = require(\"express\");\n\nvar _apiClass = _interopRequireDefault(require(\"../apiClass\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar router = (0, _express.Router)();\nvar apiCart = new _apiClass[\"default\"](\"/dataBase/cart.json\");\nvar apiProd = new _apiClass[\"default\"](\"/dataBase/products.json\");\nrouter.get('/', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var cart;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return apiCart.getAll();\n\n          case 2:\n            cart = _context.sent;\n            res.json(cart);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\nrouter.post('/', /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var obj, newId;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // el objeto lo tengo que armar desde el front, con todos los productos que tiene el carrito. Aca solo guardo el array de productos y le asigno un ID-carrito\n            obj = {};\n            obj.products = req.body;\n            obj.timestamps = Date.now();\n            _context2.next = 5;\n            return apiCart.saveNew(obj);\n\n          case 5:\n            newId = _context2.sent;\n            res.json(newId);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nrouter[\"delete\"]('/:id', /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var id, exito;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            id = req.params.id;\n            _context3.next = 3;\n            return apiCart.deleteById(id);\n\n          case 3:\n            exito = _context3.sent;\n\n            if (exito) {\n              res.json(\"carrito vaciado y eliminado con exito\");\n            } else {\n              res.json(\"el carrito no fue encontrado y por lo tanto no pudimos eliminarlo\");\n            }\n\n          case 5:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}());\nrouter.get('/:id', /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res) {\n    var id, cart;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            id = req.params.id;\n            _context4.next = 3;\n            return apiCart.getById(id);\n\n          case 3:\n            cart = _context4.sent;\n\n            if (cart == null) {\n              res.json(\"No existe ningun carrito con el ID buscado\");\n            } else {\n              res.json(cart.products);\n            }\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}()); // Hay un problema con que el carrito no maneja cantidad de productos, solo productos. Entonces cuando metemos un producto repetido no puedo checkear si existe y sumarle uno. Por lo tanto estoy decidiendo cargar repetido el producto.\n\nrouter.post('/:id/productos/:id_prod', /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res) {\n    var _req$params, id, id_prod, product, cart;\n\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            // Suponiendo que desde el front recibo solo el ID-producto como body (asi dice la consigna). Voy a buscar el producto con ese ID y luego agregarlo al carrito con ID-carrito\n            // el enunciado esta medio raro, dice que recibis un ID de producto pero no explica si por body o por params, voy a asumir que es por params.\n            _req$params = req.params, id = _req$params.id, id_prod = _req$params.id_prod;\n            _context5.next = 3;\n            return apiProd.getById(id_prod);\n\n          case 3:\n            product = _context5.sent;\n\n            if (!(product == null)) {\n              _context5.next = 8;\n              break;\n            }\n\n            res.json(\"el ID del producto no existe! Intente con un producto valido\");\n            _context5.next = 20;\n            break;\n\n          case 8:\n            _context5.next = 10;\n            return apiCart.getById(id);\n\n          case 10:\n            cart = _context5.sent;\n\n            if (!(cart == null)) {\n              _context5.next = 15;\n              break;\n            }\n\n            res.json(\"el ID del carrito no existe! No puedes agregar productos a un carrito inexistente\");\n            _context5.next = 20;\n            break;\n\n          case 15:\n            _context5.next = 17;\n            return cart.products.push(product);\n\n          case 17:\n            _context5.next = 19;\n            return apiCart.replaceById(id, cart);\n\n          case 19:\n            res.json(\"Producto agregado con exito!\");\n\n          case 20:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function (_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}()); // mismo comentario que arriba, si tenemos 2 productos iguales en el carrito, la funcion delete by ID los va a ir borrado de a uno.\n\nrouter[\"delete\"]('/:id/productos/:id_prod', /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res) {\n    var _req$params2, id, id_prod, cart, newCart;\n\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _req$params2 = req.params, id = _req$params2.id, id_prod = _req$params2.id_prod; // aca elegí primero buscar el carrito para ver si existe y luego hacer el delete by ID pasandole directamente el carrito que ya traje.\n\n            _context6.next = 3;\n            return apiCart.getById(id);\n\n          case 3:\n            cart = _context6.sent;\n\n            if (!(cart == null)) {\n              _context6.next = 8;\n              break;\n            }\n\n            res.json(\"el ID del carrito no existe! No puedes agregar productos a un carrito inexistente\");\n            _context6.next = 12;\n            break;\n\n          case 8:\n            _context6.next = 10;\n            return apiCart.deleteProductById(id_prod, id, cart);\n\n          case 10:\n            newCart = _context6.sent;\n\n            if (!newCart) {\n              res.json(\"el ID del producto no esta dentro del carrito seleccionado y por lo tanto no podemos eliminarlo\");\n            } else {\n              res.json(\"Producto eliminado con exito!\");\n            }\n\n          case 12:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n\n  return function (_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}());\nvar _default = router;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJhcGlDYXJ0IiwiQXBpIiwiYXBpUHJvZCIsImdldCIsInJlcSIsInJlcyIsImdldEFsbCIsImNhcnQiLCJqc29uIiwicG9zdCIsIm9iaiIsInByb2R1Y3RzIiwiYm9keSIsInRpbWVzdGFtcHMiLCJEYXRlIiwibm93Iiwic2F2ZU5ldyIsIm5ld0lkIiwiaWQiLCJwYXJhbXMiLCJkZWxldGVCeUlkIiwiZXhpdG8iLCJnZXRCeUlkIiwiaWRfcHJvZCIsInByb2R1Y3QiLCJwdXNoIiwicmVwbGFjZUJ5SWQiLCJkZWxldGVQcm9kdWN0QnlJZCIsIm5ld0NhcnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSnVsaWFuXFxDdXJzbyBkZSBCYWNrIEVuZFxcMXJhIGVudHJlZ2EgQmFjayBFbmRcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbImNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vYXBpQ2xhc3MnXHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpXHJcblxyXG5jb25zdCBhcGlDYXJ0ID0gbmV3IEFwaShcIi9kYXRhQmFzZS9jYXJ0Lmpzb25cIilcclxuY29uc3QgYXBpUHJvZCA9IG5ldyBBcGkoXCIvZGF0YUJhc2UvcHJvZHVjdHMuanNvblwiKVxyXG5cclxucm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3QgY2FydCA9IGF3YWl0IGFwaUNhcnQuZ2V0QWxsKClcclxuICAgIHJlcy5qc29uKGNhcnQpXHJcbn0pXHJcblxyXG5yb3V0ZXIucG9zdCgnLycsIGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgLy8gZWwgb2JqZXRvIGxvIHRlbmdvIHF1ZSBhcm1hciBkZXNkZSBlbCBmcm9udCwgY29uIHRvZG9zIGxvcyBwcm9kdWN0b3MgcXVlIHRpZW5lIGVsIGNhcnJpdG8uIEFjYSBzb2xvIGd1YXJkbyBlbCBhcnJheSBkZSBwcm9kdWN0b3MgeSBsZSBhc2lnbm8gdW4gSUQtY2Fycml0b1xyXG4gICAgY29uc3Qgb2JqID0ge31cclxuICAgIG9iai5wcm9kdWN0cyA9IHJlcS5ib2R5XHJcbiAgICBvYmoudGltZXN0YW1wcyA9IERhdGUubm93KClcclxuICAgIGNvbnN0IG5ld0lkID0gYXdhaXQgYXBpQ2FydC5zYXZlTmV3KG9iailcclxuICAgIHJlcy5qc29uKG5ld0lkKVxyXG59KVxyXG5cclxucm91dGVyLmRlbGV0ZSgnLzppZCcsIGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXNcclxuICAgIGNvbnN0IGV4aXRvID0gYXdhaXQgYXBpQ2FydC5kZWxldGVCeUlkKGlkKVxyXG4gICAgaWYgKGV4aXRvKSB7XHJcbiAgICAgICAgcmVzLmpzb24oXCJjYXJyaXRvIHZhY2lhZG8geSBlbGltaW5hZG8gY29uIGV4aXRvXCIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlcy5qc29uKFwiZWwgY2Fycml0byBubyBmdWUgZW5jb250cmFkbyB5IHBvciBsbyB0YW50byBubyBwdWRpbW9zIGVsaW1pbmFybG9cIilcclxuICAgIH1cclxufSlcclxuXHJcbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIGNvbnN0IHtpZH0gPSByZXEucGFyYW1zXHJcbiAgICBjb25zdCBjYXJ0ID0gYXdhaXQgYXBpQ2FydC5nZXRCeUlkKGlkKVxyXG4gICAgaWYgKGNhcnQgPT0gbnVsbCApIHtcclxuICAgICAgICByZXMuanNvbihcIk5vIGV4aXN0ZSBuaW5ndW4gY2Fycml0byBjb24gZWwgSUQgYnVzY2Fkb1wiKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXMuanNvbihjYXJ0LnByb2R1Y3RzKVxyXG4gICAgfSAgXHJcbn0pXHJcblxyXG4vLyBIYXkgdW4gcHJvYmxlbWEgY29uIHF1ZSBlbCBjYXJyaXRvIG5vIG1hbmVqYSBjYW50aWRhZCBkZSBwcm9kdWN0b3MsIHNvbG8gcHJvZHVjdG9zLiBFbnRvbmNlcyBjdWFuZG8gbWV0ZW1vcyB1biBwcm9kdWN0byByZXBldGlkbyBubyBwdWVkbyBjaGVja2VhciBzaSBleGlzdGUgeSBzdW1hcmxlIHVuby4gUG9yIGxvIHRhbnRvIGVzdG95IGRlY2lkaWVuZG8gY2FyZ2FyIHJlcGV0aWRvIGVsIHByb2R1Y3RvLlxyXG5yb3V0ZXIucG9zdCgnLzppZC9wcm9kdWN0b3MvOmlkX3Byb2QnLCBhc3luYyAocmVxLHJlcyk9PntcclxuICAgIC8vIFN1cG9uaWVuZG8gcXVlIGRlc2RlIGVsIGZyb250IHJlY2libyBzb2xvIGVsIElELXByb2R1Y3RvIGNvbW8gYm9keSAoYXNpIGRpY2UgbGEgY29uc2lnbmEpLiBWb3kgYSBidXNjYXIgZWwgcHJvZHVjdG8gY29uIGVzZSBJRCB5IGx1ZWdvIGFncmVnYXJsbyBhbCBjYXJyaXRvIGNvbiBJRC1jYXJyaXRvXHJcbiAgICAvLyBlbCBlbnVuY2lhZG8gZXN0YSBtZWRpbyByYXJvLCBkaWNlIHF1ZSByZWNpYmlzIHVuIElEIGRlIHByb2R1Y3RvIHBlcm8gbm8gZXhwbGljYSBzaSBwb3IgYm9keSBvIHBvciBwYXJhbXMsIHZveSBhIGFzdW1pciBxdWUgZXMgcG9yIHBhcmFtcy5cclxuICAgIGNvbnN0IHtpZCwgaWRfcHJvZH0gPSByZXEucGFyYW1zXHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgYXBpUHJvZC5nZXRCeUlkKGlkX3Byb2QpXHJcbiAgICBpZiAocHJvZHVjdCA9PSBudWxsICkge1xyXG4gICAgICAgIHJlcy5qc29uKFwiZWwgSUQgZGVsIHByb2R1Y3RvIG5vIGV4aXN0ZSEgSW50ZW50ZSBjb24gdW4gcHJvZHVjdG8gdmFsaWRvXCIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBhcGlDYXJ0LmdldEJ5SWQoaWQpXHJcbiAgICAgICAgaWYgKGNhcnQgPT0gbnVsbCApIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oXCJlbCBJRCBkZWwgY2Fycml0byBubyBleGlzdGUhIE5vIHB1ZWRlcyBhZ3JlZ2FyIHByb2R1Y3RvcyBhIHVuIGNhcnJpdG8gaW5leGlzdGVudGVcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhd2FpdCBjYXJ0LnByb2R1Y3RzLnB1c2gocHJvZHVjdClcclxuICAgICAgICAgICAgYXdhaXQgYXBpQ2FydC5yZXBsYWNlQnlJZChpZCwgY2FydCkgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXMuanNvbihcIlByb2R1Y3RvIGFncmVnYWRvIGNvbiBleGl0byFcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pXHJcblxyXG4vLyBtaXNtbyBjb21lbnRhcmlvIHF1ZSBhcnJpYmEsIHNpIHRlbmVtb3MgMiBwcm9kdWN0b3MgaWd1YWxlcyBlbiBlbCBjYXJyaXRvLCBsYSBmdW5jaW9uIGRlbGV0ZSBieSBJRCBsb3MgdmEgYSBpciBib3JyYWRvIGRlIGEgdW5vLlxyXG5yb3V0ZXIuZGVsZXRlKCcvOmlkL3Byb2R1Y3Rvcy86aWRfcHJvZCcsIGFzeW5jIChyZXEscmVzKT0+e1xyXG4gICAgY29uc3Qge2lkLCBpZF9wcm9kfSA9IHJlcS5wYXJhbXNcclxuICAgIC8vIGFjYSBlbGVnw60gcHJpbWVybyBidXNjYXIgZWwgY2Fycml0byBwYXJhIHZlciBzaSBleGlzdGUgeSBsdWVnbyBoYWNlciBlbCBkZWxldGUgYnkgSUQgcGFzYW5kb2xlIGRpcmVjdGFtZW50ZSBlbCBjYXJyaXRvIHF1ZSB5YSB0cmFqZS5cclxuICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBhcGlDYXJ0LmdldEJ5SWQoaWQpXHJcbiAgICBpZiAoY2FydCA9PSBudWxsICkge1xyXG4gICAgICAgIHJlcy5qc29uKFwiZWwgSUQgZGVsIGNhcnJpdG8gbm8gZXhpc3RlISBObyBwdWVkZXMgYWdyZWdhciBwcm9kdWN0b3MgYSB1biBjYXJyaXRvIGluZXhpc3RlbnRlXCIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcnQgPSBhd2FpdCBhcGlDYXJ0LmRlbGV0ZVByb2R1Y3RCeUlkKGlkX3Byb2QsIGlkLCBjYXJ0KVxyXG4gICAgICAgIGlmICghbmV3Q2FydCkge1xyXG4gICAgICAgICAgICByZXMuanNvbihcImVsIElEIGRlbCBwcm9kdWN0byBubyBlc3RhIGRlbnRybyBkZWwgY2Fycml0byBzZWxlY2Npb25hZG8geSBwb3IgbG8gdGFudG8gbm8gcG9kZW1vcyBlbGltaW5hcmxvXCIpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLmpzb24oXCJQcm9kdWN0byBlbGltaW5hZG8gY29uIGV4aXRvIVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSlcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOzs7OytDQUFBLG9KOzs7Ozs7QUFDQSxJQUFNQSxNQUFNLEdBQUcsSUFBQUMsZUFBQSxHQUFmO0FBRUEsSUFBTUMsT0FBTyxHQUFHLElBQUlDLG9CQUFKLENBQVEscUJBQVIsQ0FBaEI7QUFDQSxJQUFNQyxPQUFPLEdBQUcsSUFBSUQsb0JBQUosQ0FBUSx5QkFBUixDQUFoQjtBQUVBSCxNQUFNLENBQUNLLEdBQVAsQ0FBVyxHQUFYO0VBQUEsc0VBQWdCLGlCQUFPQyxHQUFQLEVBQVdDLEdBQVg7SUFBQTtJQUFBO01BQUE7UUFBQTtVQUFBO1lBQUE7WUFBQSxPQUNPTCxPQUFPLENBQUNNLE1BQVIsRUFEUDs7VUFBQTtZQUNOQyxJQURNO1lBRVpGLEdBQUcsQ0FBQ0csSUFBSixDQUFTRCxJQUFUOztVQUZZO1VBQUE7WUFBQTtRQUFBO01BQUE7SUFBQTtFQUFBLENBQWhCOztFQUFBO0lBQUE7RUFBQTtBQUFBO0FBS0FULE1BQU0sQ0FBQ1csSUFBUCxDQUFZLEdBQVo7RUFBQSx1RUFBaUIsa0JBQU9MLEdBQVAsRUFBV0MsR0FBWDtJQUFBO0lBQUE7TUFBQTtRQUFBO1VBQUE7WUFDYjtZQUNNSyxHQUZPLEdB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","map":{"version":3,"names":["router","Router","apiCart","Api","apiProd","get","req","res","getAll","cart","json","post","obj","products","body","timestamps","Date","now","saveNew","newId","id","params","deleteById","exito","getById","id_prod","product","push","replaceById","deleteProductById","newCart"],"sourceRoot":"C:\\Users\\Julian\\Curso de Back End\\1ra entrega Back End\\src\\routes\\","sources":["cart.js"],"sourcesContent":["import {Router} from 'express'\r\nimport Api from '../apiClass'\r\nconst router = Router()\r\n\r\nconst apiCart = new Api(\"/dataBase/cart.json\")\r\nconst apiProd = new Api(\"/dataBase/products.json\")\r\n\r\nrouter.get('/', async (req,res)=>{\r\n    const cart = await apiCart.getAll()\r\n    res.json(cart)\r\n})\r\n\r\nrouter.post('/', async (req,res)=>{\r\n    // el objeto lo tengo que armar desde el front, con todos los productos que tiene el carrito. Aca solo guardo el array de productos y le asigno un ID-carrito\r\n    const obj = {}\r\n    obj.products = req.body\r\n    obj.timestamps = Date.now()\r\n    const newId = await apiCart.saveNew(obj)\r\n    res.json(newId)\r\n})\r\n\r\nrouter.delete('/:id', async (req,res)=>{\r\n    const {id} = req.params\r\n    const exito = await apiCart.deleteById(id)\r\n    if (exito) {\r\n        res.json(\"carrito vaciado y eliminado con exito\")\r\n    } else {\r\n        res.json(\"el carrito no fue encontrado y por lo tanto no pudimos eliminarlo\")\r\n    }\r\n})\r\n\r\nrouter.get('/:id', async (req,res)=>{\r\n    const {id} = req.params\r\n    const cart = await apiCart.getById(id)\r\n    if (cart == null ) {\r\n        res.json(\"No existe ningun carrito con el ID buscado\")\r\n    } else {\r\n        res.json(cart.products)\r\n    }  \r\n})\r\n\r\n// Hay un problema con que el carrito no maneja cantidad de productos, solo productos. Entonces cuando metemos un producto repetido no puedo checkear si existe y sumarle uno. Por lo tanto estoy decidiendo cargar repetido el producto.\r\nrouter.post('/:id/productos/:id_prod', async (req,res)=>{\r\n    // Suponiendo que desde el front recibo solo el ID-producto como body (asi dice la consigna). Voy a buscar el producto con ese ID y luego agregarlo al carrito con ID-carrito\r\n    // el enunciado esta medio raro, dice que recibis un ID de producto pero no explica si por body o por params, voy a asumir que es por params.\r\n    const {id, id_prod} = req.params\r\n    const product = await apiProd.getById(id_prod)\r\n    if (product == null ) {\r\n        res.json(\"el ID del producto no existe! Intente con un producto valido\")\r\n    } else {\r\n        const cart = await apiCart.getById(id)\r\n        if (cart == null ) {\r\n            res.json(\"el ID del carrito no existe! No puedes agregar productos a un carrito inexistente\")\r\n        } else {\r\n            await cart.products.push(product)\r\n            await apiCart.replaceById(id, cart)           \r\n            res.json(\"Producto agregado con exito!\")\r\n        }\r\n    }\r\n})\r\n\r\n// mismo comentario que arriba, si tenemos 2 productos iguales en el carrito, la funcion delete by ID los va a ir borrado de a uno.\r\nrouter.delete('/:id/productos/:id_prod', async (req,res)=>{\r\n    const {id, id_prod} = req.params\r\n    // aca elegí primero buscar el carrito para ver si existe y luego hacer el delete by ID pasandole directamente el carrito que ya traje.\r\n    const cart = await apiCart.getById(id)\r\n    if (cart == null ) {\r\n        res.json(\"el ID del carrito no existe! No puedes agregar productos a un carrito inexistente\")\r\n    } else {\r\n        const newCart = await apiCart.deleteProductById(id_prod, id, cart)\r\n        if (!newCart) {\r\n            res.json(\"el ID del producto no esta dentro del carrito seleccionado y por lo tanto no podemos eliminarlo\")\r\n        } else {\r\n            res.json(\"Producto eliminado con exito!\")\r\n        }\r\n    }\r\n})\r\n\r\n\r\nexport default router"],"mappings":"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"}},"mtime":1654383867270},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\",\"filename\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\\\\src\\\\apiClass.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Julian\\\\Curso de Back End\\\\1ra entrega Back End\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.2:development":{"value":{"code":"\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, \"throw\" === context.method) { if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel; context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n// const fs = require('fs')\nvar Contenedor = /*#__PURE__*/function () {\n  function Contenedor(file) {\n    _classCallCheck(this, Contenedor);\n\n    this.file = __dirname + file;\n  } // las primeras 3 son funciones accesorias para armar más facilmente los pedidos y escritura de la base de datos    \n\n\n  _createClass(Contenedor, [{\n    key: \"read\",\n    value: function () {\n      var _read = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var allProductsArray;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                allProductsArray = [];\n                _context.prev = 1;\n                _context.next = 4;\n                return _fs[\"default\"].promises.readFile(this.file, 'utf8');\n\n              case 4:\n                allProductsArray = _context.sent;\n                allProductsArray.length > 0 ? allProductsArray = JSON.parse(allProductsArray) : allProductsArray = [];\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                console.log('Error en la lectura del archivo', _context.t0);\n\n              case 11:\n                return _context.abrupt(\"return\", allProductsArray);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 8]]);\n      }));\n\n      function read() {\n        return _read.apply(this, arguments);\n      }\n\n      return read;\n    }()\n  }, {\n    key: \"getNextId\",\n    value: function () {\n      var _getNextId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var lastId, allProductsArray;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                lastId = 0;\n                _context2.next = 3;\n                return this.read();\n\n              case 3:\n                allProductsArray = _context2.sent;\n\n                if (allProductsArray.length > 0) {\n                  lastId = allProductsArray[allProductsArray.length - 1].id;\n                }\n\n                return _context2.abrupt(\"return\", lastId + 1);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getNextId() {\n        return _getNextId.apply(this, arguments);\n      }\n\n      return getNextId;\n    }()\n  }, {\n    key: \"write\",\n    value: function () {\n      var _write = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(allProductsArray) {\n        var json;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                json = JSON.stringify(allProductsArray);\n                _context3.prev = 1;\n                _context3.next = 4;\n                return _fs[\"default\"].promises.writeFile(this.file, json);\n\n              case 4:\n                console.log('escritura de archivo exitosa');\n                _context3.next = 10;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](1);\n                console.log('Error en la escritura', _context3.t0);\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[1, 7]]);\n      }));\n\n      function write(_x) {\n        return _write.apply(this, arguments);\n      }\n\n      return write;\n    }() // A partir de aca tenemos las funciones que consultan y escriben la base de datos y las que vamos a usar en los archivos de rutas.\n    // Esta forma de hacer saveNew no es la más eficiente, estamos leyendo el archivo tanto en el getNextID como en el read. Poderia hacerse de forma tal de leer el archivo una sola vez\n\n  }, {\n    key: \"saveNew\",\n    value: function () {\n      var _saveNew = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(product) {\n        var nextId, allProductsArray;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return this.getNextId();\n\n              case 3:\n                nextId = _context4.sent;\n                product.id = nextId;\n                console.log(product);\n                _context4.next = 8;\n                return this.read();\n\n              case 8:\n                allProductsArray = _context4.sent;\n                allProductsArray.push(product);\n                _context4.next = 12;\n                return this.write(allProductsArray);\n\n              case 12:\n                return _context4.abrupt(\"return\", nextId);\n\n              case 15:\n                _context4.prev = 15;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.log('Error al guardar un objeto', err);\n\n              case 18:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 15]]);\n      }));\n\n      function saveNew(_x2) {\n        return _saveNew.apply(this, arguments);\n      }\n\n      return saveNew;\n    }()\n  }, {\n    key: \"getById\",\n    value: function () {\n      var _getById = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id) {\n        var allProductsArray, product;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.prev = 0;\n                _context5.next = 3;\n                return this.read();\n\n              case 3:\n                allProductsArray = _context5.sent;\n                product = allProductsArray.find(function (product) {\n                  return product.id == id;\n                });\n                product ? console.log(\"busqueda por ID exitosa\") : console.log(\"el producto con el ID buscado no fue encontrado\");\n                return _context5.abrupt(\"return\", product ? product : null);\n\n              case 9:\n                _context5.prev = 9;\n                _context5.t0 = _context5[\"catch\"](0);\n                console.log('Error en la busquedo por ID', err);\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[0, 9]]);\n      }));\n\n      function getById(_x3) {\n        return _getById.apply(this, arguments);\n      }\n\n      return getById;\n    }()\n  }, {\n    key: \"getAll\",\n    value: function () {\n      var _getAll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var allProductsArray;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.read();\n\n              case 2:\n                allProductsArray = _context6.sent;\n                return _context6.abrupt(\"return\", allProductsArray);\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getAll() {\n        return _getAll.apply(this, arguments);\n      }\n\n      return getAll;\n    }()\n  }, {\n    key: \"deleteById\",\n    value: function () {\n      var _deleteById = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(id) {\n        var allProductsArray, index;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.read();\n\n              case 2:\n                allProductsArray = _context7.sent;\n                index = allProductsArray.findIndex(function (product) {\n                  return product.id == id;\n                }); // findIndex devuelve -1 si no encuentra el valor, entonces podemos usar el if de abajo para saber si encontro un valor.\n\n                if (!(index >= 0)) {\n                  _context7.next = 11;\n                  break;\n                }\n\n                allProductsArray.splice(index, 1); // aca deberia ver que no entre al write antes de resolver el splice de arriba!\n\n                _context7.next = 8;\n                return this.write(allProductsArray);\n\n              case 8:\n                return _context7.abrupt(\"return\", true);\n\n              case 11:\n                return _context7.abrupt(\"return\", false);\n\n              case 12:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function deleteById(_x4) {\n        return _deleteById.apply(this, arguments);\n      }\n\n      return deleteById;\n    }()\n  }, {\n    key: \"replaceById\",\n    value: function () {\n      var _replaceById = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(id, product) {\n        var allProductsArray, index;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return this.read();\n\n              case 2:\n                allProductsArray = _context8.sent;\n                index = allProductsArray.findIndex(function (product) {\n                  return product.id == id;\n                });\n                product.id = Number(id); // findIndex devuelve -1 si no encuentra el valor, entonces podemos usar el if de abajo para saber si encontro un valor.\n\n                if (!(index >= 0)) {\n                  _context8.next = 11;\n                  break;\n                }\n\n                allProductsArray.splice(index, 1, product); // aca deberia ver que no entre al write antes de resolver el splice de arriba!\n\n                this.write(allProductsArray);\n                return _context8.abrupt(\"return\", true);\n\n              case 11:\n                return _context8.abrupt(\"return\", false);\n\n              case 12:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function replaceById(_x5, _x6) {\n        return _replaceById.apply(this, arguments);\n      }\n\n      return replaceById;\n    }()\n  }, {\n    key: \"deleteProductById\",\n    value: function () {\n      var _deleteProductById = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(id_prod, id, cart) {\n        var index;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return cart.products.findIndex(function (product) {\n                  return product.id == id_prod;\n                });\n\n              case 2:\n                index = _context9.sent;\n\n                if (!(index >= 0)) {\n                  _context9.next = 10;\n                  break;\n                }\n\n                cart.products.splice(index, 1);\n                _context9.next = 7;\n                return this.replaceById(id, cart);\n\n              case 7:\n                return _context9.abrupt(\"return\", cart);\n\n              case 10:\n                return _context9.abrupt(\"return\", false);\n\n              case 11:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function deleteProductById(_x7, _x8, _x9) {\n        return _deleteProductById.apply(this, arguments);\n      }\n\n      return deleteProductById;\n    }()\n    /*     deleteAll() {\r\n            let allProductsArray = [];\r\n            this.write(allProductsArray);\r\n        } */\n\n  }]);\n\n  return Contenedor;\n}();\n\nexports[\"default\"] = Contenedor;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJDb250ZW5lZG9yIiwiZmlsZSIsIl9fZGlybmFtZSIsImFsbFByb2R1Y3RzQXJyYXkiLCJmcyIsInByb21pc2VzIiwicmVhZEZpbGUiLCJsZW5ndGgiLCJKU09OIiwicGFyc2UiLCJjb25zb2xlIiwibG9nIiwibGFzdElkIiwicmVhZCIsImlkIiwianNvbiIsInN0cmluZ2lmeSIsIndyaXRlRmlsZSIsInByb2R1Y3QiLCJnZXROZXh0SWQiLCJuZXh0SWQiLCJwdXNoIiwid3JpdGUiLCJlcnIiLCJmaW5kIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJOdW1iZXIiLCJpZF9wcm9kIiwiY2FydCIsInByb2R1Y3RzIiwicmVwbGFjZUJ5SWQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSnVsaWFuXFxDdXJzbyBkZSBCYWNrIEVuZFxcMXJhIGVudHJlZ2EgQmFjayBFbmRcXHNyY1xcIiwic291cmNlcyI6WyJhcGlDbGFzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnXHJcbi8vIGNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGVuZWRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihmaWxlKSB7XHJcbiAgICAgICAgdGhpcy5maWxlID0gX19kaXJuYW1lICsgZmlsZTtcclxuICAgIH1cclxuXHJcbi8vIGxhcyBwcmltZXJhcyAzIHNvbiBmdW5jaW9uZXMgYWNjZXNvcmlhcyBwYXJhIGFybWFyIG3DoXMgZmFjaWxtZW50ZSBsb3MgcGVkaWRvcyB5IGVzY3JpdHVyYSBkZSBsYSBiYXNlIGRlIGRhdG9zICAgIFxyXG4gICAgYXN5bmMgcmVhZCgpIHtcclxuICAgICBsZXQgYWxsUHJvZHVjdHNBcnJheSA9IFtdO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGFsbFByb2R1Y3RzQXJyYXkgPSBhd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZSh0aGlzLmZpbGUsICd1dGY4Jyk7XHJcbiAgICAgICAgICAgIGFsbFByb2R1Y3RzQXJyYXkubGVuZ3RoID4gMCA/IGFsbFByb2R1Y3RzQXJyYXkgPSBKU09OLnBhcnNlKGFsbFByb2R1Y3RzQXJyYXkpIDogYWxsUHJvZHVjdHNBcnJheSA9IFtdO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgZW4gbGEgbGVjdHVyYSBkZWwgYXJjaGl2bycsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbGxQcm9kdWN0c0FycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldE5leHRJZCgpIHtcclxuICAgICAgICBsZXQgbGFzdElkID0gMDtcclxuICAgICAgICBsZXQgYWxsUHJvZHVjdHNBcnJheSA9IGF3YWl0IHRoaXMucmVhZCgpO1xyXG4gICAgICAgIGlmIChhbGxQcm9kdWN0c0FycmF5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGFzdElkID0gYWxsUHJvZHVjdHNBcnJheVthbGxQcm9kdWN0c0FycmF5Lmxlbmd0aCAtIDFdLmlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGFzdElkICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB3cml0ZShhbGxQcm9kdWN0c0FycmF5KSB7XHJcbiAgICAgICAgbGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeShhbGxQcm9kdWN0c0FycmF5KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy53cml0ZUZpbGUodGhpcy5maWxlLCBqc29uKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VzY3JpdHVyYSBkZSBhcmNoaXZvIGV4aXRvc2EnKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgZW4gbGEgZXNjcml0dXJhJywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4vLyBBIHBhcnRpciBkZSBhY2EgdGVuZW1vcyBsYXMgZnVuY2lvbmVzIHF1ZSBjb25zdWx0YW4geSBlc2NyaWJlbiBsYSBiYXNlIGRlIGRhdG9zIHkgbGFzIHF1ZSB2YW1vcyBhIHVzYXIgZW4gbG9zIGFyY2hpdm9zIGRlIHJ1dGFzLlxyXG5cclxuICAgIC8vIEVzdGEgZm9ybWEgZGUgaGFjZXIgc2F2ZU5ldyBubyBlcyBsYSBtw6FzIGVmaWNpZW50ZSwgZXN0YW1vcyBsZXllbmRvIGVsIGFyY2hpdm8gdGFudG8gZW4gZWwgZ2V0TmV4dElEIGNvbW8gZW4gZWwgcmVhZC4gUG9kZXJpYSBoYWNlcnNlIGRlIGZvcm1hIHRhbCBkZSBsZWVyIGVsIGFyY2hpdm8gdW5hIHNvbGEgdmV6XHJcbiAgICBhc3luYyBzYXZlTmV3KHByb2R1Y3QpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgbmV4dElkID0gYXdhaXQgdGhpcy5nZXROZXh0SWQoKTsgIFxyXG4gICAgICAgICAgICBwcm9kdWN0LmlkID0gbmV4dElkO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwcm9kdWN0KVxyXG4gICAgICAgICAgICBjb25zdCBhbGxQcm9kdWN0c0FycmF5ID0gYXdhaXQgdGhpcy5yZWFkKCk7XHJcbiAgICAgICAgICAgIGFsbFByb2R1Y3RzQXJyYXkucHVzaChwcm9kdWN0KTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy53cml0ZShhbGxQcm9kdWN0c0FycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5leHRJZFxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhbCBndWFyZGFyIHVuIG9iamV0bycsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldEJ5SWQoaWQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgYWxsUHJvZHVjdHNBcnJheSA9IGF3YWl0IHRoaXMucmVhZCgpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdCA9IGFsbFByb2R1Y3RzQXJyYXkuZmluZChwcm9kdWN0ID0+IHByb2R1Y3QuaWQgPT0gaWQpO1xyXG4gICAgICAgICAgICBwcm9kdWN0ID8gY29uc29sZS5sb2coXCJidXNxdWVkYSBwb3IgSUQgZXhpdG9zYVwiKSA6IGNvbnNvbGUubG9nKFwiZWwgcHJvZHVjdG8gY29uIGVsIElEIGJ1c2NhZG8gbm8gZnVlIGVuY29udHJhZG9cIilcclxuICAgICAgICAgICAgcmV0dXJuIHByb2R1Y3QgPyBwcm9kdWN0IDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2gge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgZW4gbGEgYnVzcXVlZG8gcG9yIElEJywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0QWxsKCkge1xyXG4gICAgICAgIGxldCBhbGxQcm9kdWN0c0FycmF5ID0gYXdhaXQgdGhpcy5yZWFkKCk7XHJcbiAgICAgICAgcmV0dXJuIGFsbFByb2R1Y3RzQXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlQnlJZChpZCkge1xyXG4gICAgICAgIGxldCBhbGxQcm9kdWN0c0FycmF5ID0gYXdhaXQgdGhpcy5yZWFkKCk7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gYWxsUHJvZHVjdHNBcnJheS5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0LmlkID09IGlkKTtcclxuICAgICAgICAvLyBmaW5kSW5kZXggZGV2dWVsdmUgLTEgc2kgbm8gZW5jdWVudHJhIGVsIHZhbG9yLCBlbnRvbmNlcyBwb2RlbW9zIHVzYXIgZWwgaWYgZGUgYWJham8gcGFyYSBzYWJlciBzaSBlbmNvbnRybyB1biB2YWxvci5cclxuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICBhbGxQcm9kdWN0c0FycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIC8vIGFjYSBkZWJlcmlhIHZlciBxdWUgbm8gZW50cmUgYWwgd3JpdGUgYW50ZXMgZGUgcmVzb2x2ZXIgZWwgc3BsaWNlIGRlIGFycmliYSFcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy53cml0ZShhbGxQcm9kdWN0c0FycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVwbGFjZUJ5SWQoaWQscHJvZHVjdCkgeyAgICBcclxuICAgICAgICBsZXQgYWxsUHJvZHVjdHNBcnJheSA9IGF3YWl0IHRoaXMucmVhZCgpO1xyXG4gICAgICAgIGxldCBpbmRleCA9IGFsbFByb2R1Y3RzQXJyYXkuZmluZEluZGV4KHByb2R1Y3QgPT4gcHJvZHVjdC5pZCA9PSBpZCk7XHJcbiAgICAgICAgcHJvZHVjdC5pZCA9IE51bWJlcihpZCk7XHJcbiAgICAgICAgLy8gZmluZEluZGV4IGRldnVlbHZlIC0xIHNpIG5vIGVuY3VlbnRyYSBlbCB2YWxvciwgZW50b25jZXMgcG9kZW1vcyB1c2FyIGVsIGlmIGRlIGFiYWpvIHBhcmEgc2FiZXIgc2kgZW5jb250cm8gdW4gdmFsb3IuXHJcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgYWxsUHJvZHVjdHNBcnJheS5zcGxpY2UoaW5kZXgsIDEsIHByb2R1Y3QpO1xyXG4gICAgICAgICAgICAvLyBhY2EgZGViZXJpYSB2ZXIgcXVlIG5vIGVudHJlIGFsIHdyaXRlIGFudGVzIGRlIHJlc29sdmVyIGVsIHNwbGljZSBkZSBhcnJpYmEhXHJcbiAgICAgICAgICAgIHRoaXMud3JpdGUoYWxsUHJvZHVjdHNBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRlbGV0ZVByb2R1Y3RCeUlkKGlkX3Byb2QsIGlkLCBjYXJ0KSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gYXdhaXQgY2FydC5wcm9kdWN0cy5maW5kSW5kZXgocHJvZHVjdCA9PiBwcm9kdWN0LmlkID09IGlkX3Byb2QpO1xyXG4gICAgICAgIC8vIGZpbmRJbmRleCBkZXZ1ZWx2ZSAtMSBzaSBubyBlbmN1ZW50cmEgZWwgdmFsb3IsIGVudG9uY2VzIHBvZGVtb3MgdXNhciBlbCBpZiBkZSBhYmFqbyBwYXJhIHNhYmVyIHNpIGVuY29udHJvIHVuIHZhbG9yLlxyXG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgIGNhcnQucHJvZHVjdHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZXBsYWNlQnlJZChpZCwgY2FydCk7XHJcbiAgICAgICAgICAgIHJldHVybiBjYXJ0XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuLyogICAgIGRlbGV0ZUFsbCgpIHtcclxuICAgICAgICBsZXQgYWxsUHJvZHVjdHNBcnJheSA9IFtdO1xyXG4gICAgICAgIHRoaXMud3JpdGUoYWxsUHJvZHVjdHNBcnJheSk7XHJcbiAgICB9ICovXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7OzsrQ0FDQSxvSjs7Ozs7Ozs7Ozs7O0FBQUE7SUFFcUJBLFU7RUFDakIsb0JBQVlDLElBQVosRUFBa0I7SUFBQTs7SUFDZCxLQUFLQSxJQUFMLEdBQVlDLFNBQVMsR0FBR0QsSUFBeEI7RUFDSCxDLENBRUw7Ozs7Ozs2RUFDSTtRQUFBO1FBQUE7VUFBQTtZQUFBO2NBQUE7Z0JBQ0tFLGdCQURMLEdBQ3dCLEVBRHhCO2dCQUFBO2dCQUFBO2dCQUFBLE9BR2lDQyxjQUFBLENBQUdDLFFBQUgsQ0FBWUMs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","map":{"version":3,"names":["Contenedor","file","__dirname","allProductsArray","fs","promises","readFile","length","JSON","parse","console","log","lastId","read","id","json","stringify","writeFile","product","getNextId","nextId","push","write","err","find","index","findIndex","splice","Number","id_prod","cart","products","replaceById"],"sourceRoot":"C:\\Users\\Julian\\Curso de Back End\\1ra entrega Back End\\src\\","sources":["apiClass.js"],"sourcesContent":["import fs from 'fs'\r\n// const fs = require('fs')\r\n\r\nexport default class Contenedor {\r\n    constructor(file) {\r\n        this.file = __dirname + file;\r\n    }\r\n\r\n// las primeras 3 son funciones accesorias para armar más facilmente los pedidos y escritura de la base de datos    \r\n    async read() {\r\n     let allProductsArray = [];\r\n        try {\r\n            allProductsArray = await fs.promises.readFile(this.file, 'utf8');\r\n            allProductsArray.length > 0 ? allProductsArray = JSON.parse(allProductsArray) : allProductsArray = [];\r\n        } catch (err) {\r\n            console.log('Error en la lectura del archivo', err);\r\n        }\r\n        return allProductsArray;\r\n    }\r\n\r\n    async getNextId() {\r\n        let lastId = 0;\r\n        let allProductsArray = await this.read();\r\n        if (allProductsArray.length > 0) {\r\n            lastId = allProductsArray[allProductsArray.length - 1].id;\r\n        }\r\n        return lastId + 1;\r\n    }\r\n\r\n    async write(allProductsArray) {\r\n        let json = JSON.stringify(allProductsArray);\r\n        try {\r\n            await fs.promises.writeFile(this.file, json);\r\n            console.log('escritura de archivo exitosa')\r\n        } catch (err) {\r\n            console.log('Error en la escritura', err);\r\n        }\r\n    }\r\n\r\n// A partir de aca tenemos las funciones que consultan y escriben la base de datos y las que vamos a usar en los archivos de rutas.\r\n\r\n    // Esta forma de hacer saveNew no es la más eficiente, estamos leyendo el archivo tanto en el getNextID como en el read. Poderia hacerse de forma tal de leer el archivo una sola vez\r\n    async saveNew(product) {\r\n        try {\r\n            let nextId = await this.getNextId();  \r\n            product.id = nextId;\r\n            console.log(product)\r\n            const allProductsArray = await this.read();\r\n            allProductsArray.push(product);\r\n            await this.write(allProductsArray);\r\n            return nextId\r\n        }\r\n        catch {\r\n            console.log('Error al guardar un objeto', err);\r\n        }\r\n    }\r\n\r\n    async getById(id) {\r\n        try {\r\n            let allProductsArray = await this.read();\r\n            let product = allProductsArray.find(product => product.id == id);\r\n            product ? console.log(\"busqueda por ID exitosa\") : console.log(\"el producto con el ID buscado no fue encontrado\")\r\n            return product ? product : null;\r\n        }\r\n        catch {\r\n            console.log('Error en la busquedo por ID', err);\r\n        }\r\n    }\r\n\r\n    async getAll() {\r\n        let allProductsArray = await this.read();\r\n        return allProductsArray;\r\n    }\r\n\r\n    async deleteById(id) {\r\n        let allProductsArray = await this.read();\r\n        let index = allProductsArray.findIndex(product => product.id == id);\r\n        // findIndex devuelve -1 si no encuentra el valor, entonces podemos usar el if de abajo para saber si encontro un valor.\r\n        if (index >= 0) {\r\n            allProductsArray.splice(index, 1);\r\n            // aca deberia ver que no entre al write antes de resolver el splice de arriba!\r\n            await this.write(allProductsArray);\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    async replaceById(id,product) {    \r\n        let allProductsArray = await this.read();\r\n        let index = allProductsArray.findIndex(product => product.id == id);\r\n        product.id = Number(id);\r\n        // findIndex devuelve -1 si no encuentra el valor, entonces podemos usar el if de abajo para saber si encontro un valor.\r\n        if (index >= 0) {\r\n            allProductsArray.splice(index, 1, product);\r\n            // aca deberia ver que no entre al write antes de resolver el splice de arriba!\r\n            this.write(allProductsArray);\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    async deleteProductById(id_prod, id, cart) {\r\n        let index = await cart.products.findIndex(product => product.id == id_prod);\r\n        // findIndex devuelve -1 si no encuentra el valor, entonces podemos usar el if de abajo para saber si encontro un valor.\r\n        if (index >= 0) {\r\n            cart.products.splice(index, 1);\r\n            await this.replaceById(id, cart);\r\n            return cart\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n/*     deleteAll() {\r\n        let allProductsArray = [];\r\n        this.write(allProductsArray);\r\n    } */\r\n\r\n}"],"mappings":"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"}},"mtime":1654382440405}}